<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Our Projects</title>
  <link rel="stylesheet" href="stylez.css" />
  <style>
   * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: Fira Code;
   }
   body {
    background-color: rgb(14, 11, 11);
    color: #fff;
   }
   .project-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    padding: 20px;
    background-color: #000;
   }

   .project {
    flex: 1 1 100%; /* Each box on its own line on mobile */
    margin: 10px;
    padding: 20px;
    background-color: #2e8b57;
    border-radius: 5px;
    box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.3);
    color: #fff;
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
   }

   .project img {
    width: 100px; /* Thumbnail size */
    height: 100px; /* Thumbnail size */
    border-radius: 50%; /* Circle thumbnail */
    margin-bottom: 15px;
   }

   .project h2 {
    font-size: 1.2em;
    margin-bottom: 10px;
    color: #fff;
   }

   .project p {
    font-size: 0.9em;
    color: #e5ffe5;
    margin-bottom: 15px;
   }

   .project a {
    color: #fff;
    text-decoration: none;
    background-color: #000;
    padding: 10px 15px;
    border-radius: 5px;
    transition: background-color 0.3s;
   }

   .project a:hover {
    background-color: #fff;
    color: #000;
   }

   @media (min-width: 768px) {
    .project {
     flex: 1 1 calc(50% - 40px); /* Two projects per row on tablets */
    }
   }

   @media (min-width: 1024px) {
    .project {
     flex: 1 1 calc(33.33% - 40px); /* Three projects per row on desktops */
    }
   }
  </style>
 </head>
 <body>
  <header>
   <h1 style="color: #2e8b57; text-align: center">Our Projects</h1>
  </header>
  <main class="project-container" id="project-container">
   <!-- Dynamic content will be loaded here -->
  </main>
  <script>
   // Function to fetch and display repositories
   async function loadProjects() {
    try {
     const response = await fetch("/api/projects");
     const projects = await response.json();

     const projectContainer = document.getElementById("project-container");
     projectContainer.innerHTML = ""; 

     projects.forEach(project => {
      const projectElement = document.createElement("div");
      projectElement.classList.add("project");

      const thumbnailUrl = `https://avatars.githubusercontent.com/u/${project.owner_id}?v=4`;

      projectElement.innerHTML = `
            <img src="${thumbnailUrl}" alt="${project.name} Thumbnail">
            <h2>${project.name}</h2>
            <p>${project.description || "No description provided."}</p>
            <p><strong>Language:</strong> ${project.language || "N/A"}</p>
            <a href="${project.url}" target="_blank">View Repository</a>
          `;

      projectContainer.appendChild(projectElement);
     });
    } catch (error) {
     console.error("Failed to load projects:", error);
    }
   }
   window.onload = loadProjects;
  </script>
 </body>
</html>
